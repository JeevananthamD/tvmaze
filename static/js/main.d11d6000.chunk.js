(this.webpackJsonptvmaze=this.webpackJsonptvmaze||[]).push([[0],{35:function(e,t,s){},36:function(e,t,s){},37:function(e,t,s){},45:function(e,t,s){},46:function(e,t,s){},47:function(e,t,s){},48:function(e,t,s){},49:function(e,t,s){},50:function(e,t,s){},51:function(e,t,s){},52:function(e,t,s){"use strict";s.r(t);var a=s(2),c=s.n(a),n=s(22),i=s.n(n),r=(s(35),s(23)),o=s(24),l=s(30),d=s(28),j=s(3),h=(s(36),s(27)),b=s(26),u=s(8),m=(s(37),s(1)),p=function(e){var t=e.onChange,s=e.searchBy,c=Object(a.useRef)(null);return Object(a.useEffect)((function(){c.current.checked=!0}),[]),Object(m.jsx)("nav",{className:"navbar navbar-dark",id:"navBar",children:Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsxs)(u.b,{to:"/home",className:"navbar-brand logo",children:[Object(m.jsx)("span",{children:Object(m.jsx)(b.a,{size:"2.5em"})})," ",Object(m.jsx)("span",{id:"name",children:"TVmaze"})]}),Object(m.jsxs)("div",{className:"buttonWrap",children:[Object(m.jsx)("input",{type:"radio",name:"searchBy",id:"people",onClick:s}),Object(m.jsx)("label",{className:"radioLable",htmlFor:"people",children:"Actors"}),Object(m.jsx)("input",{type:"radio",name:"searchBy",id:"shows",ref:c,onClick:s}),Object(m.jsx)("label",{className:"radioLable",htmlFor:"shows",children:"Shows"})]}),Object(m.jsxs)("div",{id:"searchWrap",className:"d-flex",children:[Object(m.jsx)("div",{id:"searchIcon",children:Object(m.jsx)(h.a,{size:"1rem",id:"icon"})}),Object(m.jsx)("input",{id:"searchBox",type:"search",placeholder:"Enter show or actor","aria-label":"Search",onChange:t})]})]})})},x=s(10),v=s.n(x),f=s(29),O=s(14),g=s(16),N=s(15),w=function(e){var t=e.data,s=void 0,a="",c=t.rating.average;try{a=(a=t.summary).replace(/(<p>|<\/p>|<b>|<\/b>|<i>|<\/i>|<br \/>)/g,"").substr(0,70)+"....."}catch(n){a=""}try{s=t.image.medium}catch(n){s="https://st4.depositphotos.com/14953852/24787/v/600/depositphotos_247872612-stock-illustration-no-image-available-icon-vector.jpg"}return Object(m.jsx)(u.b,{to:"/show/".concat(t.id),children:Object(m.jsx)("button",{style:{padding:"0",borderRadius:"10px"},children:Object(m.jsx)("div",{className:"card cardContainer",style:{backgroundImage:"url(".concat(s,")")},children:Object(m.jsxs)("div",{className:"card-body cardBody",children:[Object(m.jsx)("h5",{className:"card-title",style:{color:"var(--success)"},children:t.name}),Object(m.jsxs)("p",{className:"card-text",style:{color:"white"},children:[Object(m.jsx)(N.a,{size:"1.2em",color:"yellow",style:{position:"relative",top:"-3px"}})," ",Object(m.jsx)("span",{style:{color:"var(--success)"},children:c})," ",a]})]})})})})},y=(s(45),function(e){var t=e.data;return Object(m.jsx)("div",{className:"mt-5 d-flex justify-content-center flex-wrap",id:"cardList",children:t.map((function(e,t){return Object(m.jsx)(w,{data:e},t)}))})}),k=function(e){var t=Object(a.useState)(void 0),s=Object(g.a)(t,2),c=s[0],n=s[1],i=e.searchInput,r=e.searchBy,o=function(){var e=Object(O.a)(v.a.mark((function e(){var t,s,a,c,o,l,d;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,fetch("https://api.tvmaze.com/search/".concat(r,"?q=").concat(i));case 4:return s=e.sent,e.next=7,s.json();case 7:if(a=e.sent,"shows"!==r){e.next=12;break}t=a.map((function(e){return e.show})),e.next=15;break;case 12:return c=a.map((function(e){return e.person.id})),e.next=15,Promise.all(c.map((function(e){return fetch("https://api.tvmaze.com/people/".concat(e,"/castcredits?embed=show")).then((function(e){return e.json()})).then((function(e){return e.filter((function(e){return e}))})).then((function(e){e.forEach((function(e){t.push(e._embedded.show)}))}))})));case 15:o=new Set,t.forEach((function(e){return o.add(e.id)})),l=Object(f.a)(o),d=l.map((function(e){return t.find((function(t){return e===t.id}))})),n(d),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(0),alert(e.t0),window.location.reload();case 26:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i?o():n(void 0)}),[i,r]),Object(m.jsxs)("div",{className:"container",id:"cardContainer",children:[c?Object(m.jsx)(y,{data:c}):"",void 0===c||c.length?"":Object(m.jsx)("p",{className:"text-center mt-5 fs-1 fw-bold",style:{color:"white"},children:"No Result Found"})]})},C=void 0,S=function(){var e=Object(a.useRef)(null);return Object(a.useEffect)((function(){var t=window.screen,s=e.current.width=t.width,a=e.current.height=t.height,c=e.current.getContext("2d"),n=Array(Math.floor(s/10)+1).fill(0),i="0123456789ABCDEF".split("");return C=setInterval((function(){c.fillStyle="rgba(0,0,0,.05)",c.fillRect(0,0,s,a),c.fillStyle="#0f0",n.map((function(e,t){var s;c.fillText((s=i)[Math.floor(Math.random()*s.length)],10*t,e),n[t]=e>=a||e>50+1e4*Math.random()?0:e+10}))}),1e3/30),function(){clearInterval(C)}}),[]),Object(m.jsx)("div",{id:"bgAnimationContainer",children:Object(m.jsx)("canvas",{ref:e})})},B=function(e){var t=e.data,s=void 0;try{s=t.person.image.medium}catch(a){s="https://st4.depositphotos.com/14953852/24787/v/600/depositphotos_247872612-stock-illustration-no-image-available-icon-vector.jpg"}return Object(m.jsxs)("div",{className:"card castcard",style:{width:"18rem"},children:[Object(m.jsx)("img",{src:s,className:"card-img-top",style:{width:"284px",height:"402px"}}),Object(m.jsx)("div",{className:"card-body",children:Object(m.jsxs)("p",{className:"card-text text-dark",children:[Object(m.jsx)("span",{className:"fs-3 me-1 font-bold",children:t.person.name})," as ",Object(m.jsx)("span",{className:"ms-1 font-bold",children:t.character.name})]})})]})},E=(s(46),function(e){var t=e.casts;return Object(m.jsx)("div",{className:"mt-5 d-flex justify-content-center flex-wrap",id:"castCardList",children:t.length?t.map((function(e,t){return Object(m.jsx)(B,{data:e},t)})):Object(m.jsx)("h1",{children:"Data not available"})})}),I=function(e){var t=e.data;return Object(m.jsx)("div",{className:"cast",children:Object(m.jsx)(E,{casts:t})})},z=function(e){var t=e.data,s=(Object(a.useContext)(D),void 0);try{s=t.image.original}catch(c){s="https://st4.depositphotos.com/14953852/24787/v/600/depositphotos_247872612-stock-illustration-no-image-available-icon-vector.jpg"}return Object(m.jsx)(u.b,{to:"/show/season/".concat(t.number),children:Object(m.jsxs)("div",{className:"seasonCard",children:[Object(m.jsx)("img",{src:s,className:"seasonImg"}),Object(m.jsxs)("p",{className:"seasonNo",children:["S",t.number]})]})})},A=(s(47),function(e){var t=e.seasonData;return Object(m.jsx)("div",{className:"mt-5 d-flex justify-content-center flex-wrap",id:"seasoncardlist",children:t.map((function(e,t){return Object(m.jsx)(z,{data:e},t)}))})}),D=Object(a.createContext)(),_=function(e){var t=e.seasonData,s=e.id;return Object(m.jsx)("div",{id:"seasons",children:Object(m.jsx)(D.Provider,{value:s,children:Object(m.jsx)(A,{seasonData:t})})})},F=(s(48),function(e){var t=e.i;return Object(m.jsx)("p",{className:"genres mb-2 p-1",style:{fontSize:"14px"},children:t})}),L=(s(49),function(){return Object(m.jsx)("div",{className:"circle"})}),R=function(e){var t=e.data,s="",a="",c=t.genres;try{s=t.image.original}catch(n){s="https://st4.depositphotos.com/14953852/24787/v/600/depositphotos_247872612-stock-illustration-no-image-available-icon-vector.jpg"}try{a=(a=t.summary).replace(/(<p>|<\/p>|<b>|<\/b>|<i>|<\/i>|<br \/>)/g,"")}catch(n){a=""}return Object(m.jsx)("div",{className:"container",id:"overview",children:Object(m.jsxs)("div",{className:"ov-wrap row",children:[Object(m.jsx)("div",{className:"ov-imageContainer align-self-start col-md-6 col-lg-4",children:Object(m.jsx)("img",{src:s,className:"ov-image"})}),Object(m.jsxs)("div",{className:"ov-textarea col",id:"ov-textarea",children:[Object(m.jsxs)("div",{className:"d-flex align-self-center",style:{position:"absolute",right:"10px"},children:[Object(m.jsx)(N.a,{size:"1.8rem",color:"yellow"})," ",Object(m.jsx)("span",{className:"ps-2 fs-5",children:t.rating.average})]}),Object(m.jsx)("div",{className:"fw-bold fs-3 mb-2",children:t.name}),Object(m.jsx)("div",{className:"d-flex d-{inline-block}",children:c.map((function(e,t){return Object(m.jsx)(F,{i:e},t)}))}),Object(m.jsx)("p",{children:a}),Object(m.jsxs)("div",{className:"d-flex row m-0",children:[Object(m.jsx)("p",{className:"col-6 p-0",children:"Language"})," ",Object(m.jsx)("p",{className:"col-6 p-0",children:t.language?t.language:"NA"})]}),Object(m.jsxs)("div",{className:"d-flex row m-0",children:[Object(m.jsx)("p",{className:"col-6 p-0",children:"Premiered"})," ",Object(m.jsx)("p",{className:"col-6 p-0",children:t.premiered?t.premiered:"NA"})]}),Object(m.jsxs)("div",{className:"d-flex row m-0",children:[Object(m.jsx)("p",{className:"col-6 p-0",children:"Status"})," ",Object(m.jsx)("p",{className:"col-6 p-0",children:t.status?t.status:"NA"})]}),Object(m.jsxs)("div",{className:"d-flex row m-0",children:[Object(m.jsx)("p",{className:"col-6 p-0",children:"Official Site"})," ",t.officialSite?Object(m.jsx)("a",{href:"".concat(t.officialSite),target:"_blank",className:"col-6 p-0 link",children:"Link"}):"NA"]})]})]})})},M=(s(50),function(e){var t=e.id,s=e.getEpisodes,c=Object(a.useState)((function(){return{show:void 0,seasons:void 0}})),n=Object(g.a)(c,2),i=n[0],r=n[1];function o(){return(o=Object(O.a)(v.a.mark((function e(){var s,a,c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.tvmaze.com/shows/".concat(t,"?embed[]=episodes&embed[]=cast"));case 2:return s=e.sent,e.next=5,s.json();case 5:return a=e.sent,e.next=8,fetch("https://api.tvmaze.com/shows/".concat(t,"/seasons"));case 8:return c=e.sent,e.next=11,c.json();case 11:n=e.sent,r({show:a,seasons:n});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){i.show&&s(i.show._embedded.episodes)}),[i]),Object(m.jsxs)("div",{children:[Object(m.jsxs)("ul",{className:"nav nav-pills",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)("a",{className:"nav-link active","aria-current":"page",href:"#Overview","data-bs-toggle":"tab",children:"Overview"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)("a",{className:"nav-link",href:"#Seasons","data-bs-toggle":"tab",children:"Seasons"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)("a",{className:"nav-link",href:"#Cast","data-bs-toggle":"tab",children:"Cast"})})]}),Object(m.jsxs)("div",{className:"tab-content",children:[Object(m.jsx)("div",{className:"tab-pane active",id:"Overview",children:i.show?Object(m.jsx)(R,{data:i.show}):""}),Object(m.jsx)("div",{className:"tab-pane",id:"Seasons",children:i.show&&i.seasons?Object(m.jsx)(_,{seasonData:i.seasons,id:t}):""}),Object(m.jsx)("div",{className:"tab-pane",id:"Cast",children:i.show?Object(m.jsx)(I,{data:i.show._embedded.cast}):""})]}),i?"":Object(m.jsx)(L,{})]})}),P=function(e){var t=e.data,s=void 0,a=void 0;try{a=t.image.medium}catch(c){a="https://st4.depositphotos.com/14953852/24787/v/600/depositphotos_247872612-stock-illustration-no-image-available-icon-vector.jpg"}try{s=(s=t.summary).replace(/(<p>|<\/p>|<b>|<\/b>|<i>|<\/i>|<br \/>)/g,"")}catch(c){s=""}return Object(m.jsxs)("div",{className:"episode mt-3 col",children:[Object(m.jsx)("div",{className:"episodeImg-box",children:Object(m.jsx)("img",{className:"episodeImg mb-2",src:a})}),Object(m.jsx)("h4",{className:"fw-bold",children:t.name}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"me-2",children:"Air date:"}),t.airdate]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"me-1",children:"Episode: "}),t.number]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"me-1",children:"Runtime:"}),t.runtime," min"]}),Object(m.jsx)("div",{children:s})]})},T=(s(51),function(e){var t=e.episodes;return Object(m.jsx)("div",{className:"container",children:t.map((function(e,t){return Object(m.jsx)(P,{data:e},t)}))})}),J=function(e){var t=e.seasonNo,s=e.episodesData.filter((function(e){return e.season==t}));return Object(m.jsx)("div",{children:Object(m.jsx)(T,{episodes:s})})},W=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).onChange=function(e){a.setState({searchInput:e.target.value})},a.searchBy=function(e){a.setState({searchBy:e.target.id})},a.getEpisodes=function(e){a.setState({episodes:e})},a.state={searchInput:void 0,searchBy:"shows",episodes:void 0},a}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"App container-fluid",children:[Object(m.jsx)(p,{onChange:this.onChange,searchBy:this.searchBy}),Object(m.jsx)(S,{}),Object(m.jsxs)(j.d,{children:[Object(m.jsx)(j.b,{exact:!0,path:"/home",children:Object(m.jsx)(k,{searchInput:this.state.searchInput,searchBy:this.state.searchBy})}),Object(m.jsx)(j.b,{exact:!0,path:"/show/:id",render:function(t){var s=t.match;return Object(m.jsx)(M,{id:s.params.id,getEpisodes:e.getEpisodes})}}),Object(m.jsx)(j.b,{exact:!0,path:"/show/season/:seasonNo",render:function(t){var s=t.match;return Object(m.jsx)(J,{seasonNo:s.params.seasonNo,episodesData:e.state.episodes})}}),Object(m.jsx)(j.a,{from:"/",exact:!0,to:"/home"})]})]})}}]),s}(a.Component),q=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,53)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;s(e),a(e),c(e),n(e),i(e)}))};i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(u.a,{children:Object(m.jsx)(W,{})})}),document.getElementById("root")),q()}},[[52,1,2]]]);
//# sourceMappingURL=main.d11d6000.chunk.js.map